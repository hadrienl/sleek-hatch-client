<template>
  <require from="filters/date-format"></require>
  <p
    if.bind="loading">
    Wait for itâ€¦
  </p>
  <div
    if.bind="!loading">
    <p
      if.bind="!accounts.length">
      No account found :(
    </p>
    <table
      if.bind="accounts.length">
      <thead>
        <th>Name</th>
        <th>Users</th>
        <th>Channels</th>
        <th>Created</th>
        <th>Lifetime messages</th>
        <th>Last 30 Days Messages</th>
        <th>Last 7 Days Messages</th>
        <th>Average Monthly Messages</th>
        <th>30 Days Estimate</th>
        <th>Inbox Count</th>
        <th>Labels Count</th>
        <th>Automation Rules Count</th>
      </thead>
      <tbody>
        <tr
          repeat.for="account of accounts">
          <td>
            <a
              href="#/accounts/${account.id}">
              ${account.name}
            </a>
          </td>
          <td>${account.usersCount}</td>
          <td>${account.channelsCount}</td>
          <td>${account.createdAt|dateFormat:'LL'}</td>
          <td>${account.lifetimeMessages}</td>
          <td>${account.thirtyDaysMessages}</td>
          <td>${account.sevenDaysMessages}</td>
          <td>${account.averageMessagesPerMonth}</td>
          <td>${account.thirtyDaysEstimate}</td>
          <td>${account.inboxCount}</td>
          <td>${account.labelsCount}</td>
          <td>${account.rulesCount}</td>
        </tr>
      </tbody>
    </table>
  </div>
</template>
